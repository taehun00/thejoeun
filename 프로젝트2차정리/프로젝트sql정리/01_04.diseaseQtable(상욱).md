1. 퀴즈 테이블 구성

| 컬럼명        | 데이터 타입     | 제약 조건                                         | 설명                                |
| ------------ | ------------- | ------------------------------------------------ | --------------------------          |
| `oxno`       | NUMBER        | PRIMARY KEY, NOT NULL                            | OX 문항 고유 번호                   |
| `disno`      | VARCHAR2(20)  | NOT NULL, FOREIGN KEY                            | 질환 테이블(`disease.disno`) 참조   |
| `oxquestion` | VARCHAR2(300) | NOT NULL                                         | OX 문제 질문 문구                   |
| `oxanswer`   | CHAR(1)       | NOT NULL CHECK(oxanswer IN ('O','X'))            | O 또는 X                            |
| `oxcomment`  | VARCHAR2(400) | NULL                                             | 해설(정답 설명)                     |
| `oxbhit`     | NUMBER        | NULL                                             | OX 문제 조회수                      |
| `createdat`  | DATE          | NOT NULL                                         | 문제 생성일                         |


=====================================================================================================================
### --6. table (disease) + sequence (disease_seq)

| 컬럼명      | 데이터 타입         | 제약 조건               | 설명                           |
|------------|-------------------|------------------------|--------------------------------|
| `disno`    | `NUMBER`          | `PRIMARY KEY`, `NOT NULL` | 질병 고유 번호                 |
| `disname`  | `VARCHAR2(50)`    | `NOT NULL`, `UNIQUE`  | 질병 이름                      |
| `disex`    | `VARCHAR2(150)`   | `NULL`                 | 질병 설명                      |
| `kindpet`  | `VARCHAR2(200)`   | `NOT NULL`             | 해당 질병에 걸리는 반려동물 종류 |
| `infval`   | `VARCHAR2(200)`   | `NULL`                 | 감염 관련 정보 또는 감염값       |
| `mannote`  | `VARCHAR2(200)`   | `NULL`                 | 관리 시 참고 사항              |

# 🧬 DISEASE 테이블 데이터

| DISNO | DISNAME | DISEX                                      | KINDPET  | INFVAL   | MANNOTE |
|-------|---------|-------                                     |--------- |--------  |---------|
| PET-D-048      | 고관절 이형성증 (CHD) | 기관 내강이 0% ∼ 100% 좁아진 정도로 심각성 평가 | 리트리버, 셰퍼드 등 대형견 | 발생률: 특정 대형견 품종에서 **15% ∼ 50%**까지 보고됨. | 🚨 OFA/PennHIP 평가: 유전적 소양을 생후 4개월부터 평가하여 관리 방향 설정. |
| PET-D-049     | 슬개골 탈구(PL) | 기관 내강이 0% ∼ 100% 좁아진 정도로 심각성 평가 | 말티즈, 푸들, 포메라니안 등 소형견 | 국내 유병률: 소형견에서 60% ∼ 70% 이상 보고됨. | 등급 구분: 4단계 (Grade I ∼ IV) 로 구분되며, 보통 Grade II 이상에서 수술적 교정을 고려. |
======================================================================================================================




1. OX QUIZ TABLE + SEQUENCE (DDL)
-- OX 퀴즈 테이블
CREATE TABLE disease_ox (
    oxno        NUMBER           PRIMARY KEY,
    disno       NUMBER           NOT NULL,
    oxquestion  VARCHAR2(300)    NOT NULL,
    oxanswer    CHAR(1)          NOT NULL CHECK (oxanswer IN ('O','X')),
    oxcomment   VARCHAR2(400),
    oxbhit      NUMBER           NOT NULL,
    createdat   DATE             NOT NULL,
    CONSTRAINT fk_disease_ox FOREIGN KEY(disno)
        REFERENCES disease(disno)
);

-- OX 퀴즈 시퀀스
CREATE SEQUENCE disease_ox_seq;


■ CRUD
................................................................. create
1. OX 문제 등록 (INSERT)
INSERT INTO disease_ox (
    oxno, disno, oxquestion, oxanswer, oxcomment
) VALUES (
    disease_ox_seq.NEXTVAL,  #{disno},  #{oxquestion},  #{oxanswer},  #{oxcomment} 
);   

1   1   '심장병은어떤종류일까요?'  'O'   '정답은 X입니다. 심장병은 ㅇㅇㅇ.'      20251201
2   1   '심장병은어떤종류일까요?'  'O'   '정답은 X입니다. 심장병은 ㅇㅇㅇ.'      20251201



................................................................. READ
2. OX 퀴즈 리스트 + 상세 정보 조회

질환명까지 함께 조회하는 리스트(이벤트·출제 화면에서 사용)

※ 페이징 추가

SELECT 
    o.oxno,
    o.disno,
    d.disname,
    o.oxquestion,
    o.oxanswer,
    o.oxcomment,
FROM disease_ox o
JOIN disease d ON o.disno = d.disno
ORDER BY o.oxno DESC;

▶ 페이징 SQL 구문 필요
select  *
from  (
   select     row_number()   over (  order by  created_at desc )  as  rnum , 
   id  , app_user_id , btitle, bcontent, bpass, bfile,  bip , bhit, created_at
   from  disease_ox 
)  A
where   A.rnum  between  #{start}   and #{end}

3. 특정 OX 문항 단일 조회 (수정/상세보기용)
SELECT *
FROM disease_ox
WHERE oxno = #{oxno};

4. 조회수 업데이트 올리기
update  disease_ox   set     bhit = bhit + 1    where   id=#{id}



................................................................. UPDATE
5. OX 문제 수정 (UPDATE)
관리자가 문제 내용 수정 시 사용

UPDATE disease_ox
SET 
    disno      = #{disno},
    oxquestion = #{oxquestion},
    oxanswer   = #{oxanswer},
    oxcomment  = #{oxcomment},
   
WHERE oxno = #{oxno};



................................................................. DELETE
6. OX 문제 삭제 (DELETE)

DELETE FROM disease_ox
WHERE oxno = #{oxno};









===============================================================================
### 퀘스트(이벤트 문제) 관리 테이블
#### 기능
관리자가 OX 질환 질문을 등록하여 “퀘스트”처럼 운영하는 구조로 작성.

1-1. 퀘스트 관리 기능표
구분    사용자    관리자
Create (생성) X    게시판 글쓰기(질환 OX 문제 등록: 질문 O 25.11.21)
Read (조회) 전체읽기(문제 리스트 조회) 상세읽기
상세읽기(각 문제 보기) 전체읽기
Update (수정) X 문제 수정
Delete (삭제) X 문제 삭제

→ 사용자는 문제를 만들지 않고, 오직 풀이만 가능
→ 관리자는 OX 퀴즈 데이터를 CRUD로 관리

#### 흐름도
[사용자]
└▶ 로그인 - OX 퀴즈 게시판 (전체읽기)
        - 퀴즈상세 (상세읽기)
        ```
            └▶ 이벤트 참여 승인 버튼 클릭
            └▶ OX 이벤트 퀴즈 시작
            ├▶ 관리자 등록 문제(DB Read)
            ├▶ 문제 1 → 사용자가 O/X 선택
            ├▶ 문제 2 → O/X 선택 
                        ※확장└▶ 전체 문제 제출 → DB 저장(이벤트 응모)  
            └▶ 결과 페이지 노출(정답 여부/점수)
        ```

[관리자]
└▶ 로그인 - OX 퀴즈 게시판  
│    ├▶ 문제 생성(Create)
│    ├▶ 문제 리스트 조회(Read)
│    ├▶ 문제 수정(Update)
│    └▶ 문제 삭제(Delete)
|
※확장└▶ 이벤트 응모자/결과 조회


===============================================================================










# 주요 기능 및 흐름도 정리
# 주제  :  PET 건강정보기반 사료 추천시스템 

### USER, PET
관리자 관리페이지  - [유저관리]  / [펫관리] /   [사료/영양관리]  /  [ 사료에 관련된 REVIEW ]

#### 기능
1-1. USER 사용자 전용

CREATE → 회원가입
READ → 로그인 / 아이디, 비번 찾기 / 마이페이지
UPDATE → (사용자) 정보수정
DELETE → 회원탈퇴
   
1-2. USER 관리자 전용
CREATE → 회원가입
READ   →  전체유저 정보확인 / 로그인 / 아이디, 비번 찾기 / 마이페이지  /  해당유저검색  
UPDATE → (사용자) 정보수정, (관리자) 정보수정
DELETE → 회원탈퇴

2-1. PET 사용자 전용

CREATE → 펫 정보 작성
READ   → 펫 페이지, 상세페이지 , 펫 정보 수정 페이지
UPDATE → 펫 정보 수정
DELETE → 펫 정보 삭제

2-2. PET 관리자 전용

CREATE → X
READ → (전체) 펫 정보 확인 , 검색, 상세페이지
UPDATE → (전체) 펫 정보 수정
DELETE → (전체) 펫 정보 삭제

#### 흐름도
USER 사용자
ㄴ 회원가입 → DB 저장
ㄴ 로그인 → 마이페이지
ㄴ 아이디, 비번 찾기
ㄴ 정보 수정 → DB 업데이트
ㄴ 회원 탈퇴 → DB 삭제

USER 관리자
ㄴ 회원가입 → DB 저장
ㄴ 로그인 → 전체유저 정보확인 (10개) → 검색   → 마이페이지 
ㄴ 아이디, 비번 찾기
ㄴ (관리자 정보수정) → DB 업데이트
ㄴ (사용자 정보수정) → DB 업데이트
ㄴ (관리자 탈퇴) → DB 삭제
ㄴ (사용자 탈퇴) → DB 삭제

PET 사용자
ㄴ 펫 정보 작성 → DB 저장
ㄴ 펫 페이지 (정보들) → 상세정보확인
ㄴ 펫 정보 수정 → DB 업데이트
ㄴ 펫 정보 삭제 → DB 삭제

PET 관리자
ㄴ CREATE X
ㄴ (전체) 펫 정보 확인  → 검색   → 상세정보확인
ㄴ (전체) 펫 정보 수정 → DB 업데이트
ㄴ (전체) 펫 정보 삭제 → DB 삭제

### FOOD, REVIEW
#### 주요 기능 crud
1-1. FOOD 관리자 전용
CREATE   -  사료/영양 정보 입력 ( 입력한번에 )
READ      - 사료/영양 전체리스트 , 사료/영양 상세 정보 확인 , 검색
UPDATE   - 사료/영양 정보 수정
DELETE    - 사료/영양 정보 삭제

1-2. REVIEW 사용자 이용 게시판
    사용자 관리자
CREATE    게시판 글쓰기 O
READ      전체읽기, 상세읽기 O
UPDATE               글수정 O
DELETE                글삭제 O

#### 흐름도
FOOD(사료/영양)
[사용자] - 비로그인/로그인 - 글 리스트 / 상세 조회만 가능  
ㄴ 로그인 - 글쓰기 - 글 정보 DB저장
ㄴ    글수정 - DB업데이트
ㄴ    글삭제 - DB삭제

[사용자] - 비로그인/로그인 - 글 리스트 / 상세 조회만 가능  
ㄴ 로그인 - 글쓰기 - 글 정보 DB저장
ㄴ    글수정 - DB업데이트
ㄴ    글삭제 - DB삭제


### 반려동물 운동 정보 게시판  ( 이미지 + 페이징 
                                           게시판 특별기능-이미지 삭제시  / 이미지도 같이 삭제 ,  확장자거르기,  이미지바로보이기   )
#### 주요기능
사용자, 관리자가 
자유롭게 글을 작성 및 수정, 삭제도 할 수 있는 게시판을 구현
 
   사용자       관리자
CREATE    게시판글쓰기 게시판글쓰기
READ    전체읽기, 상세읽기 천체읽기, 상세읽기
UPDATE    글수정       글수정
DELETE     글삭제       글삭제

#### 흐름도
사용자, 관리자
로그인후 (로그인전에는 전체글 확인 못하게하기)
│
├─▶ 전체글확인 ──▶ DB 조회
│
├─▶ 글쓰기 ──▶ DB 저장
│
├─▶ 상세글확인
│
├─▶ 글수정 ──▶ DBupdate
│
├─▶ 글삭제  ──▶ DB삭제






※ NEXT ( sql 파일확인 )
1. 테이블만들기  - crud sql  
          [oracle] insert into users ( id, email, mobile ) values ( ? , ? )

2. 피그마       - 보여 줄 화면 
