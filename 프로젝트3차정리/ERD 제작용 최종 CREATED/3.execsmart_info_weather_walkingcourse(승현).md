--운동정보테이블 + 시퀀스
CREATE TABLE exerciseinfo (
    execid         number          PRIMARY KEY,   -- 운동고유아이디
    exectype       varchar2(50),                  -- 운동유형
    description    varchar2(255),                 -- 설명
    avgkcal30min   number,                        -- 칼로리소모량(30분기준)      
    exectargetmin  number,                        -- 권장시간
    suitablefor    varchar2(100),                 -- 추천동물
    intensitylevel varchar2(100),                 -- 운동강도
    createdat      date default   sysdate,        -- 글 작성일
    updatedat      date default   sysdate         -- 글 수정일
);
--시퀀스 
create sequence exerciseinfo_seq;


-- 날씨정보 + 시퀀스
create table saveweather (
    wid           number(10)       primary key,     -- 날씨고유아이디
    weather       varchar2(30),                     -- 날씨
    maxtemp       number           not null,        -- 최고기온       
    mintemp       number           not null,        -- 최저기온 
    moistpercent   number          not null,        -- 습도
    rainpercent   number           not null,        -- 강수량
    basedate      date             default sysdate  -- 날짜    
);
 -- 시퀀스
create sequence saveweather_seq;


--산책코스테이블 + 시퀀스
create table walkingcourse (
    courseid       number(10)       primary key,        -- 코스 고유 아이디
    postid         number,                              -- 게시글 고유 ID(join이용)
    location       varchar2(255)    not null,           -- 위치 (예: 공원, 산, 강변)
    lat            number(9,6)      not null,           -- 위도
    lng            number(9,6)      not null,           -- 경도
    createdat      date             default sysdate     -- 등록일
 ); 
 -- 시퀀스
create sequence walkingcourse_seq;


--운동스마트게시판 + 시퀀스
create table execsmart(
    postid     number            primary key,      -- 게시글고유아이디
    execid     number            not null,         -- 운동아이디
    userid     number            not null,         -- 사용자아이디
    wid        number            not null,         -- 날씨정보아이디
    courseid   number(10),                         -- 코스아이디
    etitle     varchar2(100)     not null,         -- 제목
    econtent   clob              not null,         -- 내용
    eimg       varchar2(255),                      --이미지경로  
    ehit       number            default 0,        -- 조회수
    createdat  date              default sysdate,  -- 등록일
    updatedat  date              default sysdate,  -- 수정일

    constraint fk_execsmart_user    foreign key (userid)   references users(userid),
    constraint fk_execsmart_exec    foreign key (execid)   references exerciseinfo(execid),
    constraint fk_execsmart_weather foreign key (wid)      references saveweather(wid),
    constraint fk_execsmart_course  foreign key (courseid) references walkingcourse(courseid)
 );
