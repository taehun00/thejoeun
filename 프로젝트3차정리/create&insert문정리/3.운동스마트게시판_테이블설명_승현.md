### 프로젝트 테이블정리
**운동정보게시판**
**관리자게시판 - Admin** 
---
운동스마트 게시판을 작성하기위한 참고게시판
---
SQL>desc exerciseinfo;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 EXECID                                    NOT NULL NUMBER(38)
 EXECTYPE                                           VARCHAR2(50)
 DESCRIPTION                                        VARCHAR2(255)
 AVGKCAL30MIN                                       FLOAT(126)
 EXECTARGETMIN                                      NUMBER(38)
 SUITABLEFOR                                        VARCHAR2(100)
 INTENSITYLEVEL                                     VARCHAR2(100)
 CREATEDAT                                          DATE
 UPDATEDAT                                          DATE

-- create
 CREATE TABLE exerciseinfo (
    execid         number          PRIMARY KEY,
    exectype       varchar2(50),
    description    varchar2(255),
    avgkcal30min number,
    exectargetmin  number,
    suitablefor    varchar2(100),
    intensitylevel varchar2(100),
    createdat     date default   sysdate,
    updatedat     date default   sysdate
);

--시퀀스 
create sequence exerciseinfo_seq;


--insert
-- 1.산책
insert into exerciseinfo (execid, exectype, description, avgkcal30min, exectargetmin, suitablefor, intensitylevel ) 
values(exerciseinfo_seq.nextval, '산책', '기본적인 야외활동/스트레스 해소', 80.0, 30, '모든 견종, 노령견 포함', '저강도' );

-- 2.노즈워크
insert into exerciseinfo (execid, exectype, description, avgkcal30min, exectargetmin, suitablefor, intensitylevel ) 
values(exerciseinfo_seq.nextval,
       '노즈워크', 
       '간식을 숨겨두고 냄새로 찾게 하는 놀이로, 정신 자극과 집중력 향상에 좋습니다.', 
       60.0,
       20, 
       '실내 생활견, 고양이도 가능',
       '저강도');

-- 3. 수영
insert into exerciseinfo (execid, exectype, description, avgkcal30min, exectargetmin, suitablefor, intensitylevel ) 
values(exerciseinfo_seq.nextval,
       '수영', 
       '관절에 부담이 적고 전신 근육을 사용하는 고강도 운동', 
       120.0, 
       25, 
       '중형견 이상, 관절 약한 반려동물', 
       '고강도');

-- 4. 터그놀이
insert into exerciseinfo (execid, exectype, description, avgkcal30min, exectargetmin, suitablefor, intensitylevel ) 
values(exerciseinfo_seq.nextval,
        '터그놀이', 
        '줄다리기 형태의 놀이로, 근력과 집중력을 동시에 향상', 
        70.0,
        15, 
        '활동적인 소형견, 고양이도 가능',
        '중강도');

-- 5. 레이저 포인터 추적
insert into exerciseinfo (execid, exectype, description, avgkcal30min, exectargetmin, suitablefor, intensitylevel ) 
values(exerciseinfo_seq.nextval,
        '레이저 포인터 추적', 
        '고양이에게 인기 있는 실내 운동, 사냥 본능을 자극', 
        50.0, 
        10, 
        '고양이 전용, 실내 생활 반려동물', 
        '중강도');



**날씨정보기능**
**API를 통해 날씨 정보를 가져오기**
이름         널?       유형            
---------- -------- ------------- 
SERVICEKEY NOT NULL VARCHAR2(255) 
PAGENO              NUMBER        
NUMOFROWS           NUMBER        
BASEDATE   NOT NULL DATE          
BASETIME   NOT NULL VARCHAR2(4)   
NX         NOT NULL NUMBER(10,6)  
NY         NOT NULL NUMBER(10,6) 

-- CREATE( create, insert)
-- create
-- 기상청_단기예보 ((구)_동네예보) 조회서비스 - API
create table execweather (
    servicekey    varchar2(255) not null,                               -- 공공데이터포털 인증키 (api 인증키)
    pageno        number,                                               -- 페이지번호
    numofrows     number,                                               -- 한 페이지 결과 수
    basedate      date          default   sysdate,                      -- 기준 날짜
    basetime      varchar2(4)   default '0600',                         -- 기준 시간 (HHMM)
    nx            number(10, 6) not null,                               -- 예보지점 X 좌표 (위도)
    ny            number(10, 6) not null,                               -- 예보지점 Y 좌표 (경도)
    constraint pk_execweather   primary key (basedate, basetime, nx, ny)
);

-- insert (service key는 개인 api키 지정)
-- 인천시청 좌표
insert into execweather (servicekey, pageno, numofrows, nx, ny) 
values                  ('KMA_API_KEY', 1, 10, 37.456255, 126.705206);

-- 서울시청 좌표
insert into execweather (servicekey, pageno, numofrows, nx, ny)
values                  ('KMA_API_KEY', 1, 10, 37.566535, 126.977969);

**날씨저장기능**
---
API를 통해 가지고온 날씨정보를 세분화시켜 정리한 임시데이터 모음집
---
이름          널?       유형           
----------- -------- ------------ 
WID         NOT NULL NUMBER       
WEATHER              VARCHAR2(30) 
MAXTEMP     NOT NULL NUMBER       
MINTEMP     NOT NULL NUMBER       
MOISPERCENT NOT NULL NUMBER       
RAINPERCENT NOT NULL NUMBER 

create table saveweather (
    wid           number           primary key,    -- 기본키
    weather       varchar2(30),                    -- 날씨
    maxtemp       number           not null,       -- 최고기온       
    mintemp       number           not null,       -- 최저기온 
    moispercent   number           not null,       -- 습도
    rainpercent   number           not null        -- 강수량
);
desc saveweather;

 -- 시퀀스
create sequence saveweather_seq;

-- insert
-- 맑음
INSERT INTO saveweather (wid, weather, maxtemp, mintemp, moispercent, rainpercent)
VALUES 
(saveweather_seq.nextval, '맑음', 20, 15, 40, 30);

-- 안개
INSERT INTO saveweather (wid, weather, maxtemp, mintemp, moispercent, rainpercent)
VALUES 
(saveweather_seq.nextval, '흐림', 22, 17, 80, 90);

-- 더운날
INSERT INTO saveweather (wid, weather, maxtemp, mintemp, moispercent, rainpercent)
VALUES 
(saveweather_seq.nextval, '맑음', 34, 25, 30, 20);

-- 추운날
INSERT INTO saveweather (wid, weather, maxtemp, mintemp, moispercent, rainpercent)
VALUES 
(saveweather_seq.nextval, '흐림', 1, 0, 10, 10);





**운동스마트게시판**
**관리자/사용자게시판 - isAuthenticated() (관리자 - 글쓰기기능 사용불가)**
---
오늘 자신의 반려동물과 함께 어떠한 환경에서 운동을 했는지 글을 작성하는 게시판
---
SQL> desc execsmart;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 POSTID                                    NOT NULL NUMBER
 EXECID                                             NUMBER
 USERID                                             NUMBER
 RECID                                              NUMBER
 ETITLE                                             VARCHAR2(100)
 ECONTENT                                           CLOB
 EIMG                                               VARCHAR2(255)
 EHIT                                               NUMBER
 CREATEDAT                                          DATE
 UPDATEDAT                                          DATE


 -- create
create table execsmart(
    postid     number            primary key,
    execid     number,
    userid     number,
    recid      number,
    etitle     varchar2(100),
    econtent   clob,
    eimg       varchar2(255),  --이미지경로
    ehit       number            default 0,
    createdat  date              default sysdate,
    updatedat  date              default sysdate,
    
    constraint fk_execsmart_user foreign key (userid)    references USERS(userid),
    constraint fk_execsmart_exec foreign key (execid)    references exerciseinfo(execid),
    constraint fk_execsmart_rec  foreign key (recid)     references execrecommendation(recid)
);  

-- 시퀀스
create sequence execsmart_seq;

-- insert
insert into execsmart  (postid,                execid, userid,recid     ,etitle,                  econtent,                                                         eimg     )
               values  (execsmart_seq.nextval, 41 ,     1,    1       , '반려동물과 함께하는 산책', '반려동물과 함께하는 산책은 주인과 반려동물 모두에게 긍정적인영향을 줍니다.', '산책.png');



